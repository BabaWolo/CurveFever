<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('header') %>
    <link href="/css/gameMenu.css" rel="stylesheet" />
    <script src="/javascript/gameMenu.js" defer></script>
</head>

<body>
    <div class="game-menu-container">
        <div class="header">
            <div class="header-container">
                <button class="logo" onclick="location.href = '/home'""> <%- include('../public/assets/icons/Logo.svg') %> </button>
                <div class="user-info">
                    <div class="border-container points">0</div>
                    <i class="fa-solid fa-user icon user-icon"></i>
                    <div class="user-name">Username</div>
                </div>
            </div>
        </div>
        <div class="main-container">
            <div class="game-btns">
                <button class="red-btn quickplay button-input" onclick="location.href = '/gameArea'"">
                    Quickplay
                </button>
                <button class=" green-btn join button-input">
                    Join Game
                </button>
                <button class="blue-btn create button-input">
                    Create Game
                </button>
                <button class="yellow-btn shop-game-btn button-input">
                    Shop
                </button>
            </div>
            <div class="shop">
                <div class="shop-btns">
                    <button onclick="changeFocus(true)" id="skins-btn" class="shop-btn active">Skins</button>
                    <button onclick="changeFocus(false)" id="icons-btn" class="shop-btn">Icons</button>
                </div>
                <div class="content">
                    <% for (let i = 0; i < 11; i++) { %>
                    <div class="shop-item">
                        <img class="shop-item-img" src="/assets/images/line<%=i+1%>.svg" alt="skin-item">
                    </div>
                    <% } %>
                </div>
            </div>
        </div>
        <%- include('footer') %>
    </div>
</body>
<script>
    let skinsInFocus = '<%- JSON.stringify(skinsInFocus) %>';

    function changeFocus(value) {
        if (skinsInFocus !== value) {
            setFocus();
            skinsInFocus = value;
            renderContent();
        }
    }

    function setFocus() {
        var skinsBtn = document.getElementById("skins-btn");
        var iconsBtn = document.getElementById("icons-btn");
        skinsBtn.classList.toggle("active");
        iconsBtn.classList.toggle("active");
    }

    function renderContent() {
        const content = document.querySelector('.content');
        let html = '';
        for (let i = 0; i < 11; i++) {
            if (skinsInFocus) {
                html += `
            <div class="shop-item">
            <img class="shop-item-img" src="/assets/images/line${i + 1}.svg" alt="skin-item">
            </div>
        `;
            } else {
                html += `
            <div class="shop-item">
            <i class="icon-item fa-solid fa-poo" style="color: #804000;"></i>
            </div>
        `;
            }
        }
        content.innerHTML = html;
    }
</script>

</html>